# Setup in Ubuntu
```
$ sudo apt-get install slurm-llnl
```
# Configure
```
$ sudo vi /etc/slurm-llnl/slurm.conf
```
Input the file like this:
```
# slurm.conf file generated by configurator.html.
# Put this file on all nodes of your cluster.
# See the slurm.conf man page for more information.
#
ControlMachine=DESKTOP-IU2UAM2
#
AuthType=auth/none
CacheGroups=0
CryptoType=crypto/openssl
MpiDefault=none
ProctrackType=proctrack/pgid
ReturnToService=1
SlurmctldPidFile=/var/run/slurmctld.pid
SlurmctldPort=6817
SlurmdPidFile=/var/run/slurmd.pid
SlurmdPort=6818
SlurmdSpoolDir=/tmp/slurmd
SlurmdLogFile=/tmp/slurmd.log
SlurmUser=slurm
StateSaveLocation=/tmp
SwitchType=switch/none
TaskPlugin=task/none
#
# TIMERS
InactiveLimit=0
KillWait=30
MinJobAge=300
SlurmctldTimeout=120
SlurmdTimeout=300
Waittime=0
#
# SCHEDULING
FastSchedule=1
SchedulerType=sched/backfill
SchedulerPort=7321
SelectType=select/linear
#
# LOGGING AND ACCOUNTING
AccountingStorageType=accounting_storage/none
ClusterName=cluster
JobCompType=jobcomp/none
JobCredentialPrivateKey = /usr/local/etc/slurm.key
JobCredentialPublicCertificate = /usr/local/etc/slurm.cert
JobAcctGatherFrequency=30
JobAcctGatherType=jobacct_gather/none
SlurmctldDebug=3
SlurmdDebug=3
#
# COMPUTE NODES
NodeName=DESKTOP-IU2UAM2 State=UNKNOWN CPUs=4
PartitionName=debug Nodes=DESKTOP-IU2UAM2 default=YES MaxTime=INFINITE State=UP
```
# Start master and servers
```
/etc/init.d/slurmctld    (master, similar to etcd in gocrms)
/etc/init.d/slurmd    (server, similar to server in gocrms)
```
# Usage
```
weliu@DESKTOP-IU2UAM2:~$ sinfo
PARTITION AVAIL  TIMELIMIT  NODES  STATE NODELIST
debug*       up   infinite      1   idle DESKTOP-IU2UAM2
weliu@DESKTOP-IU2UAM2:~$ squeue
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
weliu@DESKTOP-IU2UAM2:~$ scontrol show partition
PartitionName=debug
   AllowGroups=ALL AllowAccounts=ALL AllowQos=ALL
   AllocNodes=ALL Default=YES QoS=N/A
   DefaultTime=NONE DisableRootJobs=NO ExclusiveUser=NO GraceTime=0 Hidden=NO
   MaxNodes=UNLIMITED MaxTime=UNLIMITED MinNodes=1 LLN=NO MaxCPUsPerNode=UNLIMITED
   Nodes=DESKTOP-IU2UAM2
   Priority=1 RootOnly=NO ReqResv=NO Shared=NO PreemptMode=OFF
   State=UP TotalCPUs=4 TotalNodes=1 SelectTypeParameters=N/A
   DefMemPerNode=UNLIMITED MaxMemPerNode=UNLIMITED

weliu@DESKTOP-IU2UAM2:~$ scontrol show node DESKTOP-IU2UAM2
NodeName=DESKTOP-IU2UAM2 Arch=x86_64 CoresPerSocket=1
   CPUAlloc=0 CPUErr=0 CPUTot=4 CPULoad=0.57 Features=(null)
   Gres=(null)
   NodeAddr=DESKTOP-IU2UAM2 NodeHostName=DESKTOP-IU2UAM2 Version=15.08
   OS=Linux RealMemory=1 AllocMem=0 FreeMem=3159 Sockets=4 Boards=1
   State=IDLE ThreadsPerCore=1 TmpDisk=0 Weight=1 Owner=N/A
   BootTime=2018-06-12T09:50:32 SlurmdStartTime=2018-06-25T17:37:40
   CapWatts=n/a
   CurrentWatts=0 LowestJoules=0 ConsumedJoules=0
   ExtSensorsJoules=n/s ExtSensorsWatts=0 ExtSensorsTemp=n/s


weliu@DESKTOP-IU2UAM2:~$ sbatch --array=1-3 -J mytest --nodelist=DESKTOP-IU2UAM2 sleep 100
sbatch: error: This does not look like a batch script.  The first
sbatch: error: line must start with #! followed by the path to an interpreter.
sbatch: error: For instance: #!/bin/sh
weliu@DESKTOP-IU2UAM2:~$ sbatch --array=1-3 -J mytest --nodelist=DESKTOP-IU2UAM2 /home/weliu/mytest.sh
Submitted batch job 27
```